myData = [
  {
    "idPitanja": 1,
    "Pitanje": "Insekti (Insecta) dišu na?",
    "a": "Pluća",
    "b": "Pluća i traheje",
    "c": "Traheje*",
    "d": "Škrge"
  },
  {
    "idPitanja": 2,
    "Pitanje": "Pri monohibridnom nasleđivanju sa poptunom dominacijom u F2 generaciji dobijeno potomostvo ima?",
    "a": "Isti fenotip",
    "b": "Tri različita genotipa*",
    "c": "Tri različita fenotipa",
    "d": "Isti genotip i fenotip"
  },
  {
    "idPitanja": 3,
    "Pitanje": "Provodni elementi kod četinara su?",
    "a": "Traheje",
    "b": "Traheide*",
    "c": "Traheje i traheide",
    "d": "Sitaste cevi"
  },
  {
    "idPitanja": 4,
    "Pitanje": "Osnovna funkcija mišićnog sistema kičmenjaka (Vertebrata) je?",
    "a": "Pokretanje ogranizama i njihovih delova*",
    "b": "Prenos nadražaja od čulnih organa do organa koji reaguju",
    "c": "Varenje hrane",
    "d": "Razmnožavanje"
  },
  {
    "idPitanja": 5,
    "Pitanje": "Krebsov ciklus se odvija u?",
    "a": "Jedru",
    "b": "Mitohondriji*",
    "c": "Ribozomima",
    "d": "Vaukolama"
  },
  {
    "idPitanja": 6,
    "Pitanje": "Segregacija fenotipa u F2 generaciji kod monohibridnog nasleđivanja sa potpunom dominacijom je?",
    "a": "1 : 2 : 1",
    "b": "3 : 1*",
    "c": "1 : 1",
    "d": "1 : 1 : 1"
  },
  {
    "idPitanja": 7,
    "Pitanje": "Nauka koja se bavi proučavanjem ptica naziva se?",
    "a": "Ornistologija*",
    "b": "Entomologija",
    "c": "Mikrobiologija",
    "d": "Akarologija"
  },
  {
    "idPitanja": 8,
    "Pitanje": "U dvomembranske organele ćelije spadaju?",
    "a": "Plastidi i endoplazmatični retikulum",
    "b": "Plastidi i mitohondrije*",
    "c": "Mitohondije i Goldžijev aparat",
    "d": "Jedro i Vakuole"
  },
  {
    "idPitanja": 9,
    "Pitanje": "U ćeliji hromozomi se nalaze u?",
    "a": "Citoplazmi",
    "b": "Jedru*",
    "c": "Jedarcetu",
    "d": "Mitohondrijama"
  },
  {
    "idPitanja": 10,
    "Pitanje": "Telo bilateralo simetričnih životinja može se podeliti na dva jednaka dela?",
    "a": "Sa jednom ravni simetrije*",
    "b": "Sa dve ravni simetrije",
    "c": "Sa tri ravni simetrije",
    "d": "Sa više ravni simetrije"
  },
  {
    "idPitanja": 11,
    "Pitanje": "Primarni rast stabla odvija se radom?",
    "a": "Apikalnog meristema*",
    "b": "Kambijalnog meristema",
    "c": "Traumatičnog meristema",
    "d": "Interkalarnog meristema"
  },
  {
    "idPitanja": 12,
    "Pitanje": "Genotip predstavlja?",
    "a": "Skup svih gena u jednoj ćeliji*",
    "b": "Skup svih hromozoma u jednoj ćeliji",
    "c": "Skup svih gena u jednom hromozomu",
    "d": "Skup svih ćelija"
  },
  {
    "idPitanja": 13,
    "Pitanje": "Telo insekata (Incesta) se deli na sledeće telesne regione?",
    "a": "Glavu, grudi i trbuh*",
    "b": "Glavu i trup",
    "c": "Glavenogrudni i trbušni deo",
    "d": "Glavu i trbuh"
  },
  {
    "idPitanja": 14,
    "Pitanje": "Kolenhim pripada?",
    "a": "Provodonom tkivu",
    "b": "Mehaničkom tkivu*",
    "c": "Zaštitnom tkivu",
    "d": "Tkivu za lučenje"
  },
  {
    "idPitanja": 15,
    "Pitanje": "Pri dihibridnom ukrštanju sa potpunom dominacijom roditeljske individue obrazuje po?",
    "a": "Jedan tip gameta",
    "b": "Dva tipa gameta",
    "c": "Tri tipa gameta",
    "d": "Četiri tipa gameta*"
  },
  {
    "idPitanja": 16,
    "Pitanje": "Stonoge (Myriapoda) imaju?",
    "a": "Jedan par pipaka*",
    "b": "Dva para pipaka",
    "c": "Više pari pipaka",
    "d": "Nemaju pipke"
  },
  {
    "idPitanja": 17,
    "Pitanje": "U svetloj fazi fotosinteze vrši se?",
    "a": "Aktiviranje hlorofila pomoću energije Sunčevih zraka*",
    "b": "Obrazovanje složenih organskih jedinjenja veoma bogatih organskom energijom",
    "c": "Redukcija CO2",
    "d": "Redukcija kiseonika"
  },
  {
    "idPitanja": 18,
    "Pitanje": "Polne ćelije se odlikuju?",
    "a": "Tetraploidnim brojem hromozoma",
    "b": "Diploidnim brojem hromozoma",
    "c": "Triploidnim brojem hromozoma",
    "d": "Haploidnim brojem hromozoma*"
  },
  {
    "idPitanja": 19,
    "Pitanje": "Telesni zid sunđera (Porifera) se sastoji od?",
    "a": "Jednog sloja ćelija",
    "b": "Dva sloja ćelija",
    "c": "Tri sloja ćelija*",
    "d": "Četiri sloja ćelije"
  },
  {
    "idPitanja": 20,
    "Pitanje": "Delecija i duplikacija spadaju u?",
    "a": "Mutacije strukture hromozoma*",
    "b": "Mutacije broja hromozoma",
    "c": "Mutacije genotipa",
    "d": "Mutacije gena"
  },
  {
    "idPitanja": 21,
    "Pitanje": "Osnovna sistematka jedinica je?",
    "a": "Rod",
    "b": "Vrsta*",
    "c": "Familija",
    "d": "Red"
  },
  {
    "idPitanja": 22,
    "Pitanje": "Heteroploidija spada u?",
    "a": "Mutacije genoma*",
    "b": "Mutacije strukture hromozoma",
    "c": "Mutacije gena",
    "d": "Vanhromozomske mutacije"
  },
  {
    "idPitanja": 23,
    "Pitanje": "Lokus je?",
    "a": "Longitudinalna subjedinica hromozoma",
    "b": "Mesto na hromozomu na kome se nalazi određeni gen*",
    "c": "Primarno suženje na hromozomu",
    "d": "Sekundarno suženje hromozoma"
  },
  {
    "idPitanja": 24,
    "Pitanje": "Binarni sistem nomenklature uveo je?",
    "a": "Luj Paster",
    "b": "Čarls Darvin",
    "c": "Karl Line*",
    "d": "Josif Pančić"
  },
  {
    "idPitanja": 25,
    "Pitanje": "U ćeliji ribozomi predstavljaju centre sinteze?",
    "a": "Masti",
    "b": "Belančevina*",
    "c": "Celuloze",
    "d": "Skroba"
  },
  {
    "idPitanja": 26,
    "Pitanje": "Mollusca (Mekušci) su?",
    "a": "Asimetrične životinje",
    "b": "Bilateralno simetrične životinje*",
    "c": "Radijalno simetrične životinje",
    "d": "Sferične životinje"
  },
  {
    "idPitanja": 27,
    "Pitanje": "Plastidi su organele koje se nalaze u ćelijama?",
    "a": "Biljaka*",
    "b": "Životinja",
    "c": "Biljaka i životinja",
    "d": "Gljiva"
  },
  {
    "idPitanja": 28,
    "Pitanje": "Provodno tkivo u listu grade sudovni snopići?",
    "a": "Radijalni",
    "b": "Kolateralni*",
    "c": "Koncetrični",
    "d": "Bikolateralni"
  },
  {
    "idPitanja": 29,
    "Pitanje": "Predstavnici reda Acarina (krpelji i grinje) spadaju u klasu?",
    "a": "Incesta (Insekti)",
    "b": "Myriapoda (Stonoge)",
    "c": "Arachnida (pauci)*",
    "d": "Crustacea (Rakovi)"
  },
  {
    "idPitanja": 30,
    "Pitanje": "Klas spada u?",
    "a": "Cvast dihazija",
    "b": "Racemozne cvasti*",
    "c": "Cimozne cvasti",
    "d": "Cvast monhazija"
  },
  {
    "idPitanja": 31,
    "Pitanje": "Do redukcije broja hromozoma sa diploidnog na haploidni dolazi tokom?",
    "a": "Mitoze",
    "b": "Mejoze I*",
    "c": "Amitoze",
    "d": "Mejoze II"
  },
  {
    "idPitanja": 32,
    "Pitanje": "U abiotičke ekološke faktore spadaju?",
    "a": "Hemizam sredine i orografski faktori",
    "b": "Fitogeni, zoogeni i antropogeni",
    "c": "Hemizam sredine, klimatski, edafski i orograski faktori*",
    "d": "Virogeni, fitogeni, zoogeni i antropogeni"
  },
  {
    "idPitanja": 33,
    "Pitanje": "Klasa Phycomycetes se odlikuje?",
    "a": "Zoosporama",
    "b": "Septiranim hifama",
    "c": "Ne septiranim hifama*",
    "d": "Zoosporama i septiranim hifama"
  },
  {
    "idPitanja": 34,
    "Pitanje": "Fenotip nastaje na bazi?",
    "a": "Norme reakcije",
    "b": "Sredine",
    "c": "Interakcije genotipa i sredine*",
    "d": "Genotipa"
  },
  {
    "idPitanja": 35,
    "Pitanje": "Predstavnici klase Cestodes (Pantljičare)?",
    "a": "Imaju krvni i respiratorni sistem",
    "b": "Nemaju krvni i respiratorni sistem*",
    "c": "Imaju samo respiratorni sistem",
    "d": "Imaju samo krvni sistem"
  },
  {
    "idPitanja": 36,
    "Pitanje": "Fenotip predstavlja?",
    "a": "Skup gena u gametima",
    "b": "Sveukupnost naslednih činilaca",
    "c": "Spoljašni izgled organizma*",
    "d": "Spektar mogućih fenotipova"
  },
  {
    "idPitanja": 37,
    "Pitanje": "Nauka koja se bavi proučavanjem insekata naziva se?",
    "a": "Ornistologija",
    "b": "Entomologija*",
    "c": "Mikrobiologija",
    "d": "Akarologija"
  },
  {
    "idPitanja": 38,
    "Pitanje": "Sisari (Mammalia) vode poreklo od primitivnih?",
    "a": "Gmizavaca*",
    "b": "Vodozemaca",
    "c": "Insekata",
    "d": "Sunđera"
  },
  {
    "idPitanja": 39,
    "Pitanje": "Kalus predstavlja?",
    "a": "Traumatični meristem*",
    "b": "Interkalarni meristem",
    "c": "Apikalni meristem",
    "d": "Lateralni meristem"
  },
  {
    "idPitanja": 40,
    "Pitanje": "Prednji udovi ptica (Aves) prilagođeni su za?",
    "a": "Plivanje",
    "b": "Letenje*",
    "c": "Hodanje",
    "d": "Trčanje"
  },
  {
    "idPitanja": 41,
    "Pitanje": "Glavonošci (Cephaloda) spadaju u?",
    "a": "Morske životinje*",
    "b": "Kopnene životinje",
    "c": "Slatkovodne životinje",
    "d": "Morske i slatkovodne životinje"
  },
  {
    "idPitanja": 42,
    "Pitanje": "Poliploidija spada u?",
    "a": "Mutacije broja hromozoma*",
    "b": "Mutacije strukture hromozoma",
    "c": "Mutacije gena",
    "d": "Vanhromozomske mutacije"
  },
  {
    "idPitanja": 43,
    "Pitanje": "U racemozne cvasti spadaju?",
    "a": "Monohazija",
    "b": "Plejohazija",
    "c": "Dihazija",
    "d": "Grozd, klas, štit i glavica*"
  },
  {
    "idPitanja": 44,
    "Pitanje": "Sekundarna građa stabla nastaje radom?",
    "a": "Kambijuma*",
    "b": "Felogena",
    "c": "Kambijuma i felogena",
    "d": "Apikalnog meristema"
  },
  {
    "idPitanja": 45,
    "Pitanje": "Pod neposrednim uticajem faktora spoljašnje sredine dolazi do fenotipskih promena koje se označavaju kao?",
    "a": "Modifikacije*",
    "b": "Norma reakcije",
    "c": "Interverzije",
    "d": "Mutacije"
  },
  {
    "idPitanja": 46,
    "Pitanje": "Rotacionim kretanjem citoplazme odlikuju se ćelije?",
    "a": "Sa jednom vakuolom*",
    "b": "Sa više vakuola",
    "c": "Bez vakuola",
    "d": "Sa više mitohondrija"
  },
  {
    "idPitanja": 47,
    "Pitanje": "Provodnu ulogu kod lišćara vode?",
    "a": "Ćelije pratilice",
    "b": "Traheje*",
    "c": "Traheide",
    "d": "Sitaste cevi"
  },
  {
    "idPitanja": 48,
    "Pitanje": "Osnovni elementi ksilema su?",
    "a": "Ćelije pratilice",
    "b": "Traheje",
    "c": "Traheide*",
    "d": "Sitaste cevi"
  },
  {
    "idPitanja": 49,
    "Pitanje": "Koštano tkivo postoji kod?",
    "a": "Kičmenjaka*",
    "b": "Insekata",
    "c": "Vodozemaca",
    "d": "Gmizavaca"
  },
  {
    "idPitanja": 50,
    "Pitanje": "Somatske ćelije se odlikuju?",
    "a": "Tetraploidnim brojem hromozoma",
    "b": "Diploidnim brojem hromozoma*",
    "c": "Triploidnim brojem hromozoma",
    "d": "Haploidnim brojem hromozoma"
  },
  {
    "idPitanja": 51,
    "Pitanje": "Teoriju evolucije je formirao?",
    "a": "Aristotel",
    "b": "Karl Line",
    "c": "Čarsl Darvin*",
    "d": "Aleksandar Fleming"
  },
  {
    "idPitanja": 52,
    "Pitanje": "Ribe (Pisces) su?",
    "a": "Slatkovodne životinje",
    "b": "Morske životinje",
    "c": "Slatkovodne i morske životinje*",
    "d": "Kopnene životinje"
  },
  {
    "idPitanja": 53,
    "Pitanje": "Skelet insekata čini?",
    "a": "Koža*",
    "b": "Kičma",
    "c": "Krvna tečnost",
    "d": "Horda"
  },
  {
    "idPitanja": 54,
    "Pitanje": "Norma reakcije je?",
    "a": "Skup gena u gametima",
    "b": "Sveukupnost naslednih činilaca",
    "c": "Spoljašni izgled organizma",
    "d": "Spektar mogućih fenotipova*"
  },
  {
    "idPitanja": 55,
    "Pitanje": "Pod disanjem biljaka se podrazumeva?",
    "a": "Niz oksidativno-redukcionih procesa pri kojima se oslobađa energija*",
    "b": "Niz oksidativno-redukcionih procesa pri kojima se troši energija",
    "c": "Niz oksidativnih procesa",
    "d": "Niz redukcionih procesa pri kojima se oslobađa energija"
  },
  {
    "idPitanja": 56,
    "Pitanje": "Homologi hromozomi vode poreklo od?",
    "a": "Majke",
    "b": "Oca",
    "c": "Jedan od majke, jedan od oca*",
    "d": "Od bližih predaka"
  },
  {
    "idPitanja": 57,
    "Pitanje": "Segregacija fenotipova u F2 generaciji kod monohibridnog nasleđivanja bez potpunom dominacijom je?",
    "a": "1  : 2 : 1*",
    "b": "3 : 1",
    "c": "1  : 1",
    "d": "1  : 2 : 1"
  },
  {
    "idPitanja": 58,
    "Pitanje": "Korenske dlačice nastaju?",
    "a": "Izduživanjem ćelija egzodermisa",
    "b": "Izduživanjem ćelija epiblema*",
    "c": "Izduživanjem ćelija pericikla",
    "d": "Od ćelija primarne kore"
  }
];


function randNum() {
  let x = Math.round(Math.random() * 57);
  return x;
}

window.addEventListener('DOMContentLoaded', questions, false);


function addDiv (x, i) {
  const div = document.createElement('div');
  let found = "";
  if (myData[x].a.includes('*')) {
   found = myData[x].a;
   myData[x].a = myData[x].a.substring(0, myData[x].a.length - 1);
  }

  if (myData[x].b.includes('*')) {
   found = myData[x].b;
   myData[x].b = myData[x].b.substring(0, myData[x].b.length - 1);
  }

  if (myData[x].c.includes('*')) {
   found = myData[x].c;
   myData[x].c = myData[x].c.substring(0, myData[x].c.length - 1);
    }

   if (myData[x].d.includes('*')) {
      found = myData[x].d;
      myData[x].d = myData[x].d.substring(0, myData[x].d.length - 1);
      }

  div.innerHTML = "<div id = 'id"+ i +"'class='pitanje blur'><p class='tekst pitanje'>" + myData[x].Pitanje + "</p> </br> <input type='radio' name='odg + "+ x + "' id = '"+ myData[x].idPitanja+"a' /> <label for='"+ myData[x].idPitanja +"a'>" + myData[x].a + "</label> </br> <input type='radio' name='odg + "+ x + "' id = '"+ myData[x].idPitanja+"b' /> <label for='"+ myData[x].idPitanja +"b'>" + myData[x].b + "</label> </br> <input type='radio' name='odg + "+ x + "' id = '"+ myData[x].idPitanja+"c' /> <label for='"+ myData[x].idPitanja +"c'>" + myData[x].c + "</label> </br> <input type='radio' name='odg + "+ x + "' id = 'd"+ myData[x].idPitanja+"d' /> <label for='"+ myData[x].idPitanja +"d'>" + myData[x].d + "</label> ";
  document.body.appendChild(div);
  return found;
}

const tacniOdg = [];

var nums = [];
for (let i=0; i < 58; i++) {
  nums.push(i);
}
function shuffle(o) {
  for(var j, x, i = o.length; i; j = parseInt(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);
  return o;
};

function questions() {

  var num = shuffle(nums);

  for (let i=0; i <20; i++){
      tacniOdg.push(addDiv(num[i],i));
      
    
    
  }

  var kraj = document.createElement('div');
  kraj.innerHTML = "<div id = 'idKraj' class='kraj' onclick='krajTesta()' style='cursor: pointer;'><p>Kraj testa</p><div>";
  document.body.appendChild(kraj);
}

function krajTesta() {
  var odg = [];
  var br = 0;
  
  $('input[type=radio]').each(function () {
    const labelText = $('label[for="'+ this.id +'"]').text();
    odg.push(this.checked ? labelText : '/'); 
  
});

 var odg2 = [], size = 4;
 var odg3 = [];

 while (odg.length > 0) {
  odg2.push(odg.splice(0, size));
 }

for (let i = 0; i <=20; i++) {
  if (odg2[i] == '/,/,/,/') {
    odg3.push('/');
  }

  else if (odg2[i] != '/') {
    var word = "" + word;
    word = odg2[i]?.toString();
    word = word?.replace(/[.,\/]/g, "");
    if (odg3.includes(word)) {}
    else {
    odg3.push(word + "*");
    }
  }
}


var brTacnih = 0;
for (let i=0; i<20; i++) {
  if (
  tacniOdg[i] == odg3[i]?.toString()) {
  brTacnih++;
  document.getElementById('id' + i).classList.add('tacanOdg');
  }

  else 
  document.getElementById('id' + i).classList.add('netacanOdg');
  
}



  alert('Tačan broj pitanja: ' + brTacnih);
  document.getElementById('idKraj').classList.remove('kraj');
  document.getElementById('idKraj').classList.add('krajK');
  

}








